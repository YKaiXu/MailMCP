# MailMCP Configuration File
# MailMCP 配置文件
# 
# Location: /etc/ssh-tunnel/mailmcp.conf
# Copy this file and modify as needed
# 复制此文件并根据需要修改

# ============================================================
# EMAIL SETTINGS / 邮箱设置
# ============================================================

# MailMCP service email account (for sending/receiving commands)
# MailMCP 服务邮箱账号（用于发送/接收命令）
# This email will be used to receive commands and send responses
# 此邮箱用于接收命令和发送响应
EMAIL_USER=your_mailmcp@qq.com
EMAIL_PASS=your_email_password_or_app_token

# IMAP server for receiving emails
# 接收邮件的 IMAP 服务器
# Common servers:
# 常用服务器：
#   QQ Mail:      imap.qq.com
#   Gmail:        imap.gmail.com
#   Outlook.com:  outlook.office365.com
#   163 Mail:     imap.163.com
IMAP_SERVER=imap.qq.com

# SMTP server for sending emails  
# 发送邮件的 SMTP 服务器
# Common servers:
# 常用服务器：
#   QQ Mail:      smtp.qq.com
#   Gmail:        smtp.gmail.com
#   Outlook.com:  smtp-mail.outlook.com
#   163 Mail:     smtp.163.com
SMTP_SERVER=smtp.qq.com

# Use IMAP IDLE for real-time push notifications
# 使用 IMAP IDLE 实现实时推送通知
# Set to "true" for real-time email processing (recommended for Outlook.com)
# 设置为 "true" 可实现实时邮件处理（推荐用于 Outlook.com）
# Note: Not all IMAP servers support IDLE
# 注意：并非所有 IMAP 服务器都支持 IDLE
USE_IMAP_IDLE=false

# Email check interval in seconds (only used when USE_IMAP_IDLE=false)
# 邮件检查间隔（仅当 USE_IMAP_IDLE=false 时使用）
EMAIL_CHECK_INTERVAL=60

# ============================================================
# AUTHORIZATION SETTINGS / 授权设置
# ============================================================

# Administrator email for approving authorization requests
# 管理员邮箱，用于审批授权请求
# Leave empty to disable admin approval (auto-approve)
# 留空则禁用管理员审批（自动批准）
ADMIN_EMAIL=admin@example.com

# Allowed sender emails (comma-separated, leave empty to allow all)
# 允许的发件人邮箱（逗号分隔，留空则允许所有）
# Example: user1@gmail.com,user2@qq.com
# 示例：user1@gmail.com,user2@qq.com
ALLOWED_SENDERS=

# ============================================================
# LLM SETTINGS / LLM 大语言模型设置
# ============================================================

# Enable LLM for natural language command parsing
# 启用 LLM 进行自然语言命令解析
# Set to "true" to enable, "false" to disable
# 设置为 "true" 启用，"false" 禁用
LLM_ENABLED=false

# LLM API endpoint (OpenAI-compatible API)
# LLM API 端点（兼容 OpenAI 的 API）
# Examples:
#   - OpenAI: https://api.openai.com/v1/chat/completions
#   - DeepSeek: https://api.deepseek.com/v1/chat/completions
#   - NVIDIA: https://integrate.api.nvidia.com/v1/chat/completions
#   - Local Ollama: http://localhost:11434/v1/chat/completions
LLM_API_URL=https://api.openai.com/v1/chat/completions

# LLM API key
# LLM API 密钥
LLM_API_KEY=sk-your-api-key-here

# LLM model name
# LLM 模型名称
# Examples: gpt-4, gpt-3.5-turbo, deepseek-chat, llama2
LLM_MODEL=gpt-3.5-turbo

# ============================================================
# MCP SERVER SETTINGS / MCP 服务器设置
# ============================================================

# MCP server listen port
# MCP 服务监听端口
MCP_PORT=18443

# MCP server bind address
# MCP 服务绑定地址
# Use 0.0.0.0 for all interfaces, 127.0.0.1 for localhost only
# 使用 0.0.0.0 监听所有接口，127.0.0.1 仅本地
MCP_BIND_HOST=127.0.0.1

# ============================================================
# SECURITY SETTINGS / 安全设置
# ============================================================

# IP whitelist (comma-separated, leave empty to disable)
# IP 白名单（逗号分隔，留空则禁用）
# Whitelisted IPs bypass PGP authentication
# 白名单 IP 可跳过 PGP 认证
# Example: 192.168.1.100,10.0.0.50
IP_WHITELIST=127.0.0.1

# IP blacklist (comma-separated, leave empty to disable)
# IP 黑名单（逗号分隔，留空则禁用）
# Blacklisted IPs are always rejected
# 黑名单 IP 始终被拒绝
IP_BLACKLIST=

# Rate limit: max requests per window
# 速率限制：每个窗口最大请求数
RATE_LIMIT=60

# Rate limit window in seconds
# 速率限制窗口（秒）
RATE_LIMIT_WINDOW=60

# Signature expiration time in seconds (for replay attack prevention)
# 签名过期时间（秒），用于防止重放攻击
SIGNATURE_EXPIRE=300

# ============================================================
# PATH SETTINGS / 路径设置
# ============================================================

# Log file path
# 日志文件路径
LOG_FILE=/var/log/mailmcp/mailmcp.log

# Authentication data directory
# 认证数据目录
AUTH_DIR=/var/lib/mailmcp/auth

# PGP public keys directory
# PGP 公钥存储目录
KEYS_DIR=/var/lib/mailmcp/keys

# SSH tunnel socket directory
# SSH 隧道 socket 目录
SOCKET_DIR=/var/lib/mailmcp/sockets

# Job output directory
# 作业输出目录
JOBS_DIR=/var/lib/mailmcp/jobs

# Server configuration file (SSH connections)
# 服务器配置文件（SSH 连接）
CONFIG_FILE=/etc/mailmcp/servers.conf

# TLS certificate files
# TLS 证书文件
# Used to encrypt MCP client-server communication
# 用于加密 MCP 客户端与服务端之间的通信
# 
# Self-signed certificate is auto-generated during installation
# 安装时会自动生成自签名证书
# For production, consider using CA-signed certificate (Let's Encrypt)
# 生产环境建议使用 CA 签名的证书（如 Let's Encrypt）
#
# To regenerate:
# 重新生成命令：
#   sudo openssl req -x509 -newkey rsa:2048 \
#     -keyout /etc/mailmcp/certs/key.pem \
#     -out /etc/mailmcp/certs/cert.pem \
#     -days 365 -nodes -subj "/CN=mailmcp"
#   sudo chmod 600 /etc/mailmcp/certs/key.pem
CERT_FILE=/etc/mailmcp/certs/cert.pem
KEY_FILE=/etc/mailmcp/certs/key.pem

# GnuPG home directory (for python-gnupg)
# GnuPG 主目录（用于 python-gnupg）
GNUPG_HOME=/root/.gnupg
